<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hawksworx - Phil Hawksworth</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/main-cfc530f8.css" />
  </head>
  <body class="blog">
    <header>
  <ul class="nav">
  <li><a class="home" href="/">HAWKSWORX<p class="hint">web noodlings from Phil Hawksworth</p></a></li>
  <li><a class="blog" href="/blog">Writing<p class="hint">blog posts &amp; announcements</p></a></li>
  <li><a class="speaking" href="/speaking">Speaking<p class="hint">conferences &amp; meetups</p></a></li>
  <li><a class="links" href="/links">Links<p class="hint">notes and resources</p></a></li>
  <li><a class="about" href="/about">About<p class="hint">about the author</p></a></li>
</ul>

</header>

    
<div class="hero hero-blog">
    <div class="container">
      <p class="publish-date">27 March, 2017</p>
      <h1>Keeping a Jamstack Site Feeling Fresh With Recent Tweets</h1>
      <div class="tags">
        tagged:
        <ul>
        
          <li><a href="/blog/tags/web">web</a></li>
        
          <li><a href="/blog/tags/development">development</a></li>
        
          <li><a href="/blog/tags/static">static</a></li>
        
          <li><a href="/blog/tags/jamstack">jamstack</a></li>
        
        </ul>
      </div>
    </div>
  </div>

    
  <div class="content container post-content">
    <p>Having somewhere on your site to show a few of your recent tweets is a common requirement. Twitter provides some easy ways to embed tweets or twitter feeds onto your site via Javascript, but I&rsquo;m keen to remove external javascript dependencies from my site. It helps the site to render more quickly, and lets me control exactly how it looks.</p>

<p>But for a <a href="https://www.jamstack.org">static site</a>, it would be a pain to need to compile and deploy after every tweet. Luckily, by stitching together some simple tools, this can all happen automagically whenever a new tweet is posted.</p>

<p></p>

<p>My site, this site, is made with Jekyll. Perhaps the most popular static site generator. I already have a few bits of Gulp as part of my build automation and the whole thing is hosted on <a href="https://www.netlify.com">Netlify</a>, my very favorite static site hosting service.</p>

<h2 id="pulling-tweets-into-the-codebase">Pulling tweets into the codebase</h2>

<p>To bring recent tweets into the site, I add a <a href="https://github.com/philhawksworth/hawksworx.com/blob/f5ece4ed3d06a3caae75978155e7f091c965cfaa/gulpfile.js#L168-L206">gulp task which requests my recent tweets</a> from Twitter&rsquo;s API, and stashes them in a YAML Data file. <a href="https://jekyllrb.com/docs/datafiles/">Jekyll makes YAML Data files available</a> to its templates so I can use the content however I need.</p>

<p>So far, so simple. Now to trigger a build and deplyment whenever I tweet.</p>

<p>Netlify can run your build for you in their environment in exactly the same way that as it runs in your local development environment. The output then gets deployed to their distributed CDN.</p>

<h2 id="triggering-the-build">Triggering the build</h2>

<p>There are lots of ways to trigger a Netlify build, but what we need here is webhook. In <a href="https://www.netlify.com/docs/webhooks/#incoming-webhooks">Netlify&rsquo;s site settings</a>, we create a webhook and now we have a URL which will trigger a build and deployment whenever it recieves a POST request.</p>

<p>Now to monitor a Twitter feed. I&rsquo;m trying to keep away from the need to host any server or service myself, so I just turn to <a href="https://ifttt.com">If This Then That</a>, the service automation&hellip; um&hellip; service.</p>

<p>IFTTT has channels to <a href="https://ifttt.com/twitter">monitor twitter feeds</a>, and also has the ability to <a href="https://ifttt.com/maker_webhooks">make requests to Webhooks</a>, so all that is required it to configure an IFTTT Applet to tie these things together.</p>

<h2 id="pulling-it-all-together">Pulling it all together</h2>

<p>With these pieces in place, things start working nicely. Each tweet will find its way to the site&rsquo;s HTML with no need for client-side javascript. A quick summary:</p>

<ol>
<li>IFTTT monitors activity from my twitter feed</li>
<li>New tweets result in a call to a webhook</li>
<li>POST requests to the specified webhook invoke a new build on Netlify</li>
<li>The site build pulls in recent tweets from the Twitter API and <a href="#footer">includes them in the site</a></li>
<li>Victory dance</li>
</ol>
  </div>

    <footer>
  <div class="callout">
    <div class="logo">
      <h1>Hawksworx</h1>
      <p class="subtitle">web noodlings from Phil Hawksworth</p>
    </div>
    <h2>Some other places to find Phil Hawksworth on the web</h2>
    <ul class="nav">
  <li><a href="https://www.twitter.com/philhawksworth">Twitter<p class="hint">@philhawksworth</p></a></li>
  <li><a href="https://www.speakerdeck.com/philhawksworth">Speakerdeck<p class="hint">/philhawksworth</p></a></li>
  <li><a href="https://www.github.com/philhawksworth">Github<p class="hint">/philhawksworth</p></a></li>
</ul>

  </div>
  <img src="/images/philhawksworth-goon@2x.jpg" alt="Phil Hawksworth's face" class="avatar" />
  <div class="meta">
    <p> The source code of this site is available to view and fork on <a href="https://www.github.com/philhawksworth">Github</a> and served on the <a href="https://www.jamstack.org">JAMstack</a> by <a href="https://www.netlify.com">Netlify</a>.</p>
    <p>Other than where specified, the content on this site is published under a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a> licence.</p>
  </div>
</footer>

  </body>
</html>
